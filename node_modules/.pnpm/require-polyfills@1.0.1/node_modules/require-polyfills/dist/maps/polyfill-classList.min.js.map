{"version":3,"file":"../polyfill-classList.min.js","sources":["polyfill-classList.js"],"sourcesContent":["/*\n * classList.js: Cross-browser full element.classList implementation.\n * 1.1.20170427\n *\n * By Eli Grey, http://eligrey.com\n * License: Dedicated to the public domain.\n *   See https://github.com/eligrey/classList.js/blob/master/LICENSE.md\n */\n\n/*global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\nif (\"document\" in self) {\n\n  // Full polyfill for browsers with no classList support\n  // Including IE < Edge missing SVGElement.classList\n  if (!(\"classList\" in document.createElement(\"_\"))\n    || document.createElementNS && !(\"classList\" in document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\"))) {\n\n    (function (view) {\n\n      \"use strict\";\n\n      if (!('Element' in view)) return;\n\n      var\n        classListProp = \"classList\"\n        , protoProp = \"prototype\"\n        , elemCtrProto = view.Element[protoProp]\n        , objCtr = Object\n        , strTrim = String[protoProp].trim || function () {\n          return this.replace(/^\\s+|\\s+$/g, \"\");\n        }\n        , arrIndexOf = Array[protoProp].indexOf || function (item) {\n          var\n            i = 0\n            , len = this.length\n            ;\n          for (; i < len; i++) {\n            if (i in this && this[i] === item) {\n              return i;\n            }\n          }\n          return -1;\n        }\n        // Vendors: please allow content code to instantiate DOMExceptions\n        , DOMEx = function (type, message) {\n          this.name = type;\n          this.code = DOMException[type];\n          this.message = message;\n        }\n        , checkTokenAndGetIndex = function (classList, token) {\n          if (token === \"\") {\n            throw new DOMEx(\n              \"SYNTAX_ERR\"\n              , \"An invalid or illegal string was specified\"\n            );\n          }\n          if (/\\s/.test(token)) {\n            throw new DOMEx(\n              \"INVALID_CHARACTER_ERR\"\n              , \"String contains an invalid character\"\n            );\n          }\n          return arrIndexOf.call(classList, token);\n        }\n        , ClassList = function (elem) {\n          var\n            trimmedClasses = strTrim.call(elem.getAttribute(\"class\") || \"\")\n            , classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : []\n            , i = 0\n            , len = classes.length\n            ;\n          for (; i < len; i++) {\n            this.push(classes[i]);\n          }\n          this._updateClassName = function () {\n            elem.setAttribute(\"class\", this.toString());\n          };\n        }\n        , classListProto = ClassList[protoProp] = []\n        , classListGetter = function () {\n          return new ClassList(this);\n        }\n        ;\n      // Most DOMException implementations don't allow calling DOMException's toString()\n      // on non-DOMExceptions. Error's toString() is sufficient here.\n      DOMEx[protoProp] = Error[protoProp];\n      classListProto.item = function (i) {\n        return this[i] || null;\n      };\n      classListProto.contains = function (token) {\n        token += \"\";\n        return checkTokenAndGetIndex(this, token) !== -1;\n      };\n      classListProto.add = function () {\n        var\n          tokens = arguments\n          , i = 0\n          , l = tokens.length\n          , token\n          , updated = false\n          ;\n        do {\n          token = tokens[i] + \"\";\n          if (checkTokenAndGetIndex(this, token) === -1) {\n            this.push(token);\n            updated = true;\n          }\n        }\n        while (++i < l);\n\n        if (updated) {\n          this._updateClassName();\n        }\n      };\n      classListProto.remove = function () {\n        var\n          tokens = arguments\n          , i = 0\n          , l = tokens.length\n          , token\n          , updated = false\n          , index\n          ;\n        do {\n          token = tokens[i] + \"\";\n          index = checkTokenAndGetIndex(this, token);\n          while (index !== -1) {\n            this.splice(index, 1);\n            updated = true;\n            index = checkTokenAndGetIndex(this, token);\n          }\n        }\n        while (++i < l);\n\n        if (updated) {\n          this._updateClassName();\n        }\n      };\n      classListProto.toggle = function (token, force) {\n        token += \"\";\n\n        var\n          result = this.contains(token)\n          , method = result ?\n            force !== true && \"remove\"\n            :\n            force !== false && \"add\"\n          ;\n\n        if (method) {\n          this[method](token);\n        }\n\n        if (force === true || force === false) {\n          return force;\n        } else {\n          return !result;\n        }\n      };\n      classListProto.toString = function () {\n        return this.join(\" \");\n      };\n\n      if (objCtr.defineProperty) {\n        var classListPropDesc = {\n          get: classListGetter\n          , enumerable: true\n          , configurable: true\n        };\n        try {\n          objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n        } catch (ex) { // IE 8 doesn't support enumerable:true\n          // adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\n          // modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\n          if (ex.number === undefined || ex.number === -0x7FF5EC54) {\n            classListPropDesc.enumerable = false;\n            objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n          }\n        }\n      } else if (objCtr[protoProp].__defineGetter__) {\n        elemCtrProto.__defineGetter__(classListProp, classListGetter);\n      }\n\n    }(self));\n\n  }\n\n  // There is full or partial native classList support, so just check if we need\n  // to normalize the add/remove and toggle APIs.\n\n  (function () {\n    \"use strict\";\n\n    var testElement = document.createElement(\"_\");\n\n    testElement.classList.add(\"c1\", \"c2\");\n\n    // Polyfill for IE 10/11 and Firefox <26, where classList.add and\n    // classList.remove exist but support only one argument at a time.\n    if (!testElement.classList.contains(\"c2\")) {\n      var createMethod = function (method) {\n        var original = DOMTokenList.prototype[method];\n\n        DOMTokenList.prototype[method] = function (token) {\n          var i, len = arguments.length;\n\n          for (i = 0; i < len; i++) {\n            token = arguments[i];\n            original.call(this, token);\n          }\n        };\n      };\n      createMethod('add');\n      createMethod('remove');\n    }\n\n    testElement.classList.toggle(\"c3\", false);\n\n    // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n    // support the second argument.\n    if (testElement.classList.contains(\"c3\")) {\n      var _toggle = DOMTokenList.prototype.toggle;\n\n      DOMTokenList.prototype.toggle = function (token, force) {\n        if (1 in arguments && !this.contains(token) === !force) {\n          return force;\n        } else {\n          return _toggle.call(this, token);\n        }\n      };\n\n    }\n\n    testElement = null;\n  }());\n\n}"],"names":["self","document","createElement","createElementNS","view","classListProp","protoProp","elemCtrProto","Element","objCtr","Object","strTrim","String","trim","this","replace","arrIndexOf","Array","indexOf","item","i","len","length","DOMEx","type","message","name","code","DOMException","checkTokenAndGetIndex","classList","token","test","call","ClassList","elem","trimmedClasses","getAttribute","classes","split","push","_updateClassName","setAttribute","toString","classListProto","classListGetter","Error","contains","add","tokens","arguments","l","updated","remove","index","splice","toggle","force","result","method","join","defineProperty","classListPropDesc","get","enumerable","configurable","ex","undefined","number","__defineGetter__","createMethod","_toggle","testElement","original","DOMTokenList","prototype"],"mappings":"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"}